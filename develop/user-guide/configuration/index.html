
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://scicatproject.github.io/scicat-ingestor/develop/user-guide/configuration/">
      
      
        <link rel="prev" href="../overview/">
      
      
        <link rel="next" href="../online-ingestor/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.13">
    
    
      
        <title>Configuration - Scicat Ingestor</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#configuration" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Scicat Ingestor" class="md-header__button md-logo" aria-label="Scicat Ingestor" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Scicat Ingestor
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Configuration
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/SciCatProject/scicat-ingestor/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../getting-started/" class="md-tabs__link">
        
  
  
    
  
  Getting Started

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../overview/" class="md-tabs__link">
          
  
  
  User Guide

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../developer-guide/getting-started/" class="md-tabs__link">
          
  
  
  Developer Guide

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Scicat Ingestor" class="md-nav__button md-logo" aria-label="Scicat Ingestor" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Scicat Ingestor
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/SciCatProject/scicat-ingestor/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    User Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#general" class="md-nav__link">
    <span class="md-ellipsis">
      General
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dataset" class="md-nav__link">
    <span class="md-ellipsis">
      Dataset
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ingestion" class="md-nav__link">
    <span class="md-ellipsis">
      Ingestion
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ingestion">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#file-handling-file_handling" class="md-nav__link">
    <span class="md-ellipsis">
      File Handling (file_handling)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kafka-kafka" class="md-nav__link">
    <span class="md-ellipsis">
      Kafka (kafka)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#logging-logging" class="md-nav__link">
    <span class="md-ellipsis">
      Logging (logging)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scicat-scicat" class="md-nav__link">
    <span class="md-ellipsis">
      SciCat (scicat)
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../online-ingestor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OnlineIngestor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../offline-ingestor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OfflineIngestor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../metadata-schemas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Metadata Schema
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Developer Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Developer Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/release-deploy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Release and Deployment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/documentation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Documentation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/adrs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ADRs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#general" class="md-nav__link">
    <span class="md-ellipsis">
      General
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dataset" class="md-nav__link">
    <span class="md-ellipsis">
      Dataset
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ingestion" class="md-nav__link">
    <span class="md-ellipsis">
      Ingestion
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ingestion">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#file-handling-file_handling" class="md-nav__link">
    <span class="md-ellipsis">
      File Handling (file_handling)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kafka-kafka" class="md-nav__link">
    <span class="md-ellipsis">
      Kafka (kafka)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#logging-logging" class="md-nav__link">
    <span class="md-ellipsis">
      Logging (logging)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scicat-scicat" class="md-nav__link">
    <span class="md-ellipsis">
      SciCat (scicat)
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="configuration">Configuration</h1>
<p>As <code>scicat-ingestor</code> communicate to multiple frameworks, it has many configurable options.</p>
<p>Therefore configuration is divided into several sections.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Both online and offline ingestor share the same configuration file which can be passed in with <code>-c</code> options.</p>
</div>
<p>TODO: Turn these sections into a table.</p>
<h2 id="general">General</h2>
<p>This section contains few fields that are used to configure the input parameters of the ingestor programs. Most of the time they are left empty as they are specified on the command line.<br />
It also include the id of the configuration which is an arbitrary string, but for easy tracking and maintenance we suggest to be unique within your system.
We also suggest to use uuids and change every time the configuration is updated.</p>
<ul>
<li>nexus_file
  This is the data file that the ingestor needs to ingest and should be contained in the dataset to be created.
  At the moment, the ingestor can handle only nexus files. If there is the need, additional formats can be added.
  The file to be ingested can be specified here, but in most cases, this option is left empty and the data file is passed as an argument at the command line.</li>
<li>done_writing_message_file
  This is the message received by the online ingestor, if it is configured to save the message content to a file.
  At the moment, the naming is specific to ESS. It will be changed if the tool is adopted by other facilities.
  This option is also left empty most of the time as the file name is passed as command line option, if present.</li>
<li>config_file
  This is the location of the configuraition file where all this options are saved.
  It is always empty as such file is provided as an argument with the option <code>-c</code>.</li>
<li>id
  This is a string which should be set to a unique value for the admin convenience.
  We suggest to use uuids but there are no restrictions applied to it. We also suggest to change the id every time the config is changed, so it is easy to debug and troubleshoot where automatic deployment system are in use.<br />
  Example: "c1eef5a0-9b8b-11ef-a991-0bfe16577c30",</li>
</ul>
<h2 id="dataset">Dataset</h2>
<p>This section pertains to the offline ingestor and contains all the options related to creating the dataset in scicat.
It still contains some legacy options that are not in use anymore. They will be marked as obsolete and remove in the near future.</p>
<ul>
<li>allow_dataset_pid: <em>boolean</em>
  This option instruct the ingestor if can specify the dataset pid or it should rely on SciCat to assign it the newly created dataset.
  Options:</li>
<li>False: SciCat will assign the PID</li>
<li>True: The ingestor assigns the PID</li>
<li>generate_dataset_pid: <em>boolean</em>
  This option instruct the ingestor to generate a random pid for the dataset. The generate pid will be a uuid4 string.
  Options:</li>
<li>False: the ingestor will not generate a random PID</li>
<li>True: the ingestor will generate a random PID</li>
<li>dataset_pid_prefix: <em>string</em>
  This option provides the facility specific prefix for the dataset uuids.
  Example: "20.500.12269",</li>
<li>default_instrument_id: <em>string</em>
  This option specify which is the default instrument that the dataset will be associated if the instrument is not provided or is invalid.
  Example: "20.500.12269/00fe23a2-f276-4e2e-9005-a89a9c6ae9fe"</li>
<li>default_proposal_id: <em>string</em>
  This option specify which is the default proposal id to be used if not provided or the one provided is invalid.<br />
  Example: "070910"</li>
<li>default_owner_group: <em>string</em>
  This option specify which is the owner group of the dataset if it is not provided.
  Example: "070910"</li>
<li>default_access_groups: <em>string[]</em>
  This options provides a list of string that should be used as access groups if not provided.<br />
  Example: [ "group_1", "group_2" ]</li>
</ul>
<h2 id="ingestion">Ingestion</h2>
<p>This section is specific for the offline ingestor and contains all the options to configure the ingestion process, such as path to the offline ingestor, where are the schema files, whhich tests to do before creation and which files to create.</p>
<ul>
<li>dry_run: <em>boolean</em>
  This option instruct the ingestor to run in dry run mode. It performs all the required actions with the associated logs, except the ones that modify the data catalog.<br />
  Options:</li>
<li>false: perform the ingestions</li>
<li>true: does all the preparation, but it does not attempt to run offline ingestor (if running th eonline ingestor), or create a dataset entry in SciCat (if running the offline ingestor).</li>
<li>offline_ingestor_executable: <em>string[]</em>
  This option provides the online ingestor with the command line needed to run the offline ingestor. It is an array of strings as the ingestor is a python scripts and the admin might want to specify a specific version of python that is not the default one.
  Example: [ "/root/micromamba/envs/scicat-ingestor/bin/python", /ess/services/scicat-ingestor/software/src/scicat_offline_ingestor.py" ]</li>
<li>schemas_directory: <em>string</em>
  This option define the full path of the folder where all the imsc files are located in this installation. It is used in the offline ingestor only. Please visit the section relative tpo the schema for more information about the imsc files.
  Example: "/ess/services/scicat-ingestor/schemas",</li>
<li>check_if_dataset_exists_by_pid:<em>boolean</em>
  This option instruct the offline ingestor to check if a dataset with the same pid already exists in the scicat instance of reference.
  Options:</li>
<li>false: do no check and attempt directly creating the dataset</li>
<li>true: check if a dataset with the same pid already exists and do not create the dataset if already present</li>
<li>check_if_dataset_exists_by_metadata: <em>boolean</em>
  this option instruct the offline ingestor to check if a dataset with a specific metadata value is already present in the scicat instance of reference.
  Options:</li>
<li>false: do not check and attempt directly creating the dataset</li>
<li>true: check on the specified metadata key if a dataset already exists and do not create the dataset if already present</li>
<li>check_if_dataset_exists_by_metadata_key: <em>string</em>
  Name of the metadata field that we need to check for dataset exists if option <em>check_if_dataset_exists_by_metadata</em>
  Example: "job_id"</li>
</ul>
<h3 id="file-handling-file_handling">File Handling (file_handling)</h3>
<ul>
<li>compute_file_stats: <em>boolean</em>
  This option instruct the offline ingestor to include in the scicat dataset file list the os statistics (aka ownership, permissions and size).
  Options:</li>
<li>false: no stats are added in the SciCat record for this file</li>
<li>
<p>true: stats are added in the SciCat record for this file
  Example:</p>
</li>
<li>
<p>compute_file_hash: <em>boolean</em>
  This option instruct the offline ingestor to include in the scicat dataset file list the hash of the file content computed with the algorithm specified in option <em>file_hash_algorithm</em>.
  Options:</p>
</li>
<li>false: do not compute the hash</li>
<li>true: compute the hash and insert it in the scicat record for the file</li>
<li>file_hash_algorithm: <em>string</em>
  Selected algorithm used to compute the file hash.
  Available options: blake2b
  Example: "blake2b"</li>
<li>save_file_hash: <em>boolen</em>
  This options instruct the offline ingestor to save the computed hash also in a file located in the folder specified <em>ingestor_files_directory</em> in a file that is named with the original data file name with the suffix defined in option <em>hash_file_extension</em>
  Options:</li>
<li>false: do not save the hash file</li>
<li>true: save the hash file in addition to store it in scicat</li>
<li>hash_file_extension: <em>string</em>
  Extension appended to the data file name to define the hash file name.
  Example: "b2b"</li>
<li>ingestor_files_directory: <em>string</em>
  This option provides the full path of the folder where all the files produced by the ingestor process should saved. It needs to be a valid full path.
  Example: "/ess/services/scicat-ingestor/output"</li>
<li>message_to_file: <em>boolean</em>
  This option instruct the online ingestor to save the notification message received through the selected medium in a file with name compose by the original file name and the suffix specified in option <em>message_file_extension</em>.
  Options:</li>
<li>false: do not save original notification message in a file</li>
<li>true: save original notification message in a json file</li>
<li>message_file_extension: <em>string</em>
  Extension used for the message file if saved.
  Example: "message.json"</li>
<li>file_path_type: <em>string</em>
  This option instruct the ingestor to use the specified type of path.
  Available options:</li>
<li>absolute: use absolute paths</li>
<li>...</li>
</ul>
<h2 id="kafka-kafka">Kafka (kafka)</h2>
<p>This section is used by the online ingestor and it configures how to connect to the kafka server and which topics to listen to, It also specify the parameters related to how to retrieve the messages. Please ask your kafka admin for more information.</p>
<ul>
<li>topics: <em>string[]</em>
  This option provide to the online ingestor the list of the topics to listen on the kafka cluster for the message informing the availability of a new data file.
  Example: [ "ymir_filewriter", "coda_filewriter" ]</li>
<li>group_id: <em>string</em>
  This option instruct the online ingestor to connect to the kafka cluster with the specified id. Multiple instances of the ingestor can use the same id. In this case the kafka cluster will distribute the messages across the instances running under the same group.<br />
  Example: "scicat_filewriter_ingestor_05"</li>
<li>bootstrap_servers: <em>string</em>
  This option provides the online ingestor with the comma separate list of the ip addresses of the kafka server that accept a connection including the port.
  Example: "10.100.4.15:8093,10.100.5.17:8093,10.100.5.29:8093"</li>
<li>security_protocol: <em>string</em>
  This option specify the security protocol that the online ingestor should use to connect to the kafka cluster.
  Example: "sasl_ssl"</li>
<li>sasl_mechanism: <em>string</em>
  This option provides to the online ingestor which sasl mechanism should be used to connect to the kafka cluster.
  Example: "SCRAM-SHA-256",</li>
<li>sasl_username: <em>string</em>
  This options provides the user name use in the sasl protocol when connecting to the kafka cluster
  Example: "scicat_ingestor"</li>
<li>sasl_password: <em>string</em>
  This field provides the password associated with the user name for the sasl protocol when connecting to the kafka cluster</li>
<li>ssl_ca_location: <em>string</em>
  This the full path to the file containing the ssl certificate needed to connect to the kafka cluster.
  Example: "/ess/services/scicat-ingestor/ssl/ecdc-kafka-ca.crt"</li>
<li>auto_offset_reset: <em>string</em>
  This option specify the strategy on how to retrieve the messages from the kafka topic. Please consult kafka documentation for all the available options.
  Example: "earliest",</li>
<li>enable_auto_commit: <em>boolean</em>
  This option instruct the online ingestor to auto commit all the messages.
  Options:</li>
<li>false: do not auto commit</li>
<li>true: auto commit all the messages</li>
<li>individual_message_commit: <em>boolean</em>
  This option configure the online ingestor to commit each message individually. At the moment this option is unstable and its use is not recommended.
  Options:</li>
<li>false: do not auto commit each individual message</li>
<li>true: commit each individual message searately.</li>
</ul>
<h2 id="logging-logging">Logging (logging)</h2>
<p>This section is used by both programs and it specify how and where to send the logs. Logs can be sent to a file, the OS system and to a separate graylog. At the moment there are no integration with other log server, but they can be added as the need arise.</p>
<ul>
<li>verbose: <em>boolean</em>
  Enable verbose logging for all the ingestor applications</li>
<li>file_log: <em>boolean</em>
  Enable logging to files. Each run is logged in a separate file with a name composed by the path specified in option <em>file_log_base_name</em> followed by the timestamp (if enabled) and the .log extension.</li>
<li>file_log_base_name: <em>string</em>
  This option provide the common full path for the log file name.
  Example: "/ess/services/scicat-ingestor/logs/scicat_ingestor_log",</li>
<li>file_log_timestamp: <em>boolean</em>
  Enables the timestamp to be added in the log file name.</li>
<li>logging_level: <em>string</em>
  Level of the logging. Any logs that matches the level specified or higher is sent to the logging facility.
  for more information about logging levels, please visit the following page: https://docs.python.org/3/library/logging.html#levels
  Example: "INFO",</li>
<li>log_message_prefix: <em>string</em>
  Set the string that is affixed to every message logged.
  Example: "SCI" or "SciCat Ingestor"</li>
<li>system_log: _boolean
  Enable logging to the system log. Please consult your OS logging documentation for more information where to find such logs.
  The system logs have been tested on *nix systems only. On different OS, mileage may vary.</li>
<li>system_log_facility: <em>string</em>
  If running on *nix system, under which log system the messages are logged.
  Example: "mail",</li>
<li>graylog: <em>boolean</em>
  Enable logging to a graylog system through the SciCat graylog integration.</li>
<li>graylog_host: <em>string</em>
  Ip address or valid hostname of the graylog server where the ingestor should send the logs
  Examples: "graylog.ess.eu"</li>
<li>graylog_port: <em>integer as a string</em>
  Port on which the graylog service is listening and accepting remote logs on the graylog server
  Example: "12321",</li>
<li>graylog_facility: <em>string</em>
  Arbitrary string used in the facility field for the graylog messages.
  It is suggested to pick a meaningful string that can be used when selecting entries in graylog interface and queries
  Example: "scicat_ingestor"</li>
</ul>
<h2 id="scicat-scicat">SciCat (scicat)</h2>
<p>This section is used by the offline ingestor and it contains the info about url where the relevant scicat instance is reachable and also the token that needs to be used for authentication purposes.</p>
<ul>
<li>host: <em>valid url as string</em>
  URL of the SciCat instance of reference where we want to create the dataset records.
  Example: "https://scicat.ess.eu/api/v3",</li>
<li>token: <em>string</em>
  Valid JWT token used to connect to SciCat with the proper permissions to query and create datasets.</li>
<li>timeout: <em>integer</em> or <em>null</em>
  Value in ms for the timeout when placing requests to SciCat.</li>
<li>stream: <em>boolean</em>
  Obscure option for the request library when connecting to a URL and send requests.
  Usually set to true.
  Please refer to the python requests library documentation for more information.</li>
<li>verify: <em>boolean</em>
  Obscure option for the request library when connecting to a URL and send requests.
  Usually set to false.
  Please refer to the python requests library documentation for more information.</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.top", "navigation.tabs", "navigation.tabs.sticky", "content.tooltips", "content.code.copy"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>